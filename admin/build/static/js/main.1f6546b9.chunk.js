(this["webpackJsonpsowshea-admin"]=this["webpackJsonpsowshea-admin"]||[]).push([[0],{139:function(e,t,n){},231:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},266:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),c=n(19),i=n.n(c),o=n(21),l=n(22),d=n(24),u=n(23),j=n(31),b=n(45),h=n(18),m=(n(116),n(5)),p=n(32),f=n(279),x=n(275),O=n(273),g=n(280),v=n(278),y=n(10),C=n.n(y),N=n(13),S=n(37),_=n.n(S),w="https://api-v2.loftimmigration.com",k={headers:{"Content-Type":"application/json",Accept:"application/json"}},I="AUTH_SUCCESS",A="LOGOUT_USER",L=function(e,t){if(Array.isArray(e))e.forEach((function(e){return t(e[Object.keys(e)[0]])}));else if("object"===typeof e)if(e.message)t(e.message);else if(e.error&&e.auth)localStorage.removeItem("token"),localStorage.removeItem("user"),t(e.error),{type:A};else{Object.keys(e).forEach((function(n){t(e[n])}))}else"string"===typeof e&&t(e)},E=function(e){return function(){var t=Object(N.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:I,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=n(103),T="IMMIGRANT_LIST_REQUEST",R="IMMIGRANT_LIST_SUCCESS",M="IMMIGRANT_LIST_FAILED",q="IMMIGRANT_DELETE_REQUEST",B="IMMIGRANT_DELETE_SUCCESS",F="IMMIGRANT_DELETE_FAILED",U="IMMIGRANT_LIST_RESET",G="BUSINESS_LIST_REQUEST",P="BUSINESS_LIST_SUCCESS",z="BUSINESS_LIST_FAILED",V="GENERAL_LIST_REQUEST",K="GENERAL_LIST_SUCCESS",$="GENERAL_LIST_FAILED",H=n(136).format,Q=function(e){"Invalid token"===e&&(X("user"),X("token"),window.location.reload())},J=function(e){return e.response?(Q(e.response.data.message),e.response.data.message):e.message?(Q(e.message),e.message):void 0},W=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=localStorage.getItem(e);return n?t?JSON.parse(n):n:null},Y=function(e,t){return localStorage.setItem(e,"object"===typeof t?JSON.stringify(t):t)},X=function(e){return localStorage.removeItem(e)},Z=function(e){var t=(new Date).getTime()-new Date(e).getTime(),n=new Date(t);return Math.abs(n.getUTCFullYear()-1970)},ee=function(e){return H(e,{currency:"$",showDecimals:"NEVER",currencyPosition:"LEFT",spacing:!1})},te=function(e){return e.map((function(e){return{name:0===e.min?"Less than ".concat(ee(e.max)):0===e.max?"Above ".concat(ee(e.min)):"".concat(ee(e.min)," to ").concat(ee(e.max)),value:e.id}}))},ne=function(e){return function(){var t=Object(N.a)(C.a.mark((function t(n,a){var r,s,c,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:T}),r=a(),s=r.auth.token,c={headers:{Authorization:"Bearer ".concat(s)}},t.next=6,_.a.get("".concat(w,"/immigrants/").concat(e),c);case 6:i=t.sent,n({type:R,payload:i.data}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:M,payload:J(t.t0)}),Object(h.b)(J(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},ae=function(e,t){return function(){var n=Object(N.a)(C.a.mark((function n(a,r){var s,c,i,o,l,d,u,j,b,m;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(n.prev=0,a({type:"SEARCH_IMMIGRANT_REQUEST"}),s=r(),c=s.auth.token,i={headers:{Authorization:"Bearer ".concat(c)}},o="?",l=0,d=Object.entries(t);l<d.length;l++)u=Object(D.a)(d[l],2),j=u[0],(b=u[1])&&(o+="".concat(j,"=").concat(b,"&"));return n.next=8,_.a.get("".concat(w,"/immigrants/").concat(e+o),i);case 8:m=n.sent,a({type:"businesses"===e?P:R,payload:m.data}),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),a({type:"SEARCH_IMMIGRANT_FAILED",payload:J(n.t0)}),Object(h.b)(J(n.t0));case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e,t){return n.apply(this,arguments)}}()},re=n(39),se=n(97),ce=n.n(se),ie=(n(102),n(105)),oe=n(270),le=n(271),de=n(272),ue=n(98),je=n(282),be=(n(274),n(30)),he=n.n(be),me=(n(139),n(268)),pe=n(269),fe=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={isValid:{valid:!1,invalid:!1},feedBack:""},e.changeState=function(t,n){e.setState({isValid:{invalid:!t,valid:t}}),e.setState({feedBack:t?"":Object(a.jsx)(me.a,{style:{display:"block"},children:n})})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){if(!this.props.invalid||!1!==this.state.isValid.invalid)return null;this.changeState(!1,"this field is required")}},{key:"render",value:function(){var e=this,t=this.props,n=t.isRequired,r=t.isEmail,s=t.isPhoneNumber,c=t.isPassword,i=t.value,o=Object(re.a)(t,["isRequired","isEmail","isPhoneNumber","isPassword","value"]),l=this.state.isValid;l.valid,l.invalid;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(pe.a,Object(m.a)(Object(m.a)({onKeyUp:function(){return n||o.required?e.errorText():null},type:s?"tel":r?"email":c?"password":"text",value:null===i?"":i},o),this.state.isValid)),this.state.feedBack]})}},{key:"errorText",value:function(){var e=this,t=this.props,n=t.isRequired,a=t.required,r=t.isEmail,s=t.isPhoneNumber,c=t.isPassword,i=t.value,o=function(){r?e.changeState(he.a.isEmail(i),"Invalid email address"):s?e.changeState(he.a.isMobilePhone(i.replaceAll(" ",""),"any"),"Invalid phone number"):c?e.changeState(he.a.isLength(i,{min:6}),"Password must be at least 6 characters"):e.changeState(!0,"")};(n||a)&&he.a.isEmpty(i)?this.changeState(!1,"this field is required"):o()}}]),n}(r.Component),xe=(Object(ie.a)(),function(e){e.iconClass;var t=e.label,n=void 0===t?"":t,r=e.invalid,s=void 0!==r&&r,c=Object(re.a)(e,["iconClass","label","invalid"]);return Object(a.jsxs)(a.Fragment,{children:[he.a.isEmpty(n)?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)("label",{className:"form-control-label mt-2",htmlFor:c.name,children:[n,c.required&&Object(a.jsx)("span",{className:"text-danger",children:"*"})]}),Object(a.jsx)(fe,Object(m.a)({invalid:s,value:!0},c)),c.subText&&Object(a.jsx)("small",{children:c.subText})]})}),Oe=function(e){var t=e.onChange,n=void 0===t?function(e){}:t,r=e.iconClass,s=void 0===r?"":r,c=e.label,i=void 0===c?"":c,o=e.value,l=void 0===o?"":o,d=Object(re.a)(e,["onChange","iconClass","label","value"]);return Object(a.jsxs)(oe.a,{className:"mb-2",children:[he.a.isEmpty(i)?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)("label",{className:"form-control-label mt-2",htmlFor:d.name,children:[i,d.required&&Object(a.jsx)("span",{className:"text-danger",children:"*"})]}),Object(a.jsxs)(le.a,{className:"input-group-alternative",children:[he.a.isEmpty(s)?"":Object(a.jsx)(de.a,{addonType:"prepend",children:Object(a.jsx)(ue.a,{children:Object(a.jsx)("i",{className:s})})}),Object(a.jsx)(ce.a,Object(m.a)({onChange:function(e){return n({target:{name:d.name,value:e._d}})},closeOnSelect:!0,timeFormat:!1,value:l},{rest:d,inputProps:Object(m.a)(Object(m.a)({},d.inputProps),{},{style:{type:"date"},required:d.required,className:"form-control ".concat(d.invalid?"is-invalid":"")})}))]})]})},ge=function(e){var t=e.placeholder,n=e.name,r=e.options,s=void 0===r?[]:r,c=e.onSelect,i=e.id,o=void 0===i?"":i,l=e.required,d=void 0!==l&&l,u=e.value,j=void 0===u?"":u,b=e.iconClass,h=void 0===b?"":b,p=e.disabled,f=void 0!==p&&p,x=e.label,O=void 0===x?"":x,g=(e.defaultValue,Object(re.a)(e,["placeholder","name","options","onSelect","id","required","value","iconClass","disabled","label","defaultValue"]));return Object(a.jsxs)(oe.a,{className:"mb-2",children:[he.a.isEmpty(O)?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)("label",{className:"mt-2 form-control-label ".concat(g.labelClass?g.labelClass:""),htmlFor:n,children:[d&&Object(a.jsx)("span",{className:"text-danger",children:"* "}),O]}),Object(a.jsxs)(le.a,{className:"input-group-alternative",children:[he.a.isEmpty(h)?"":Object(a.jsx)(de.a,{addonType:"prepend",children:Object(a.jsx)(ue.a,{children:Object(a.jsx)("i",{className:h})})}),Object(a.jsxs)(je.a,Object(m.a)(Object(m.a)({type:"select",id:o,name:n,onChange:c,required:d,disabled:f},g),{},{children:[Object(a.jsx)("option",{value:"",defaultValue:"",disabled:!!j,children:t}),s.map((function(e,t){return e.title&&(e.name=e.title),Object(a.jsx)("option",{defaultValue:e.name,value:e.value,selected:!!e.selected,children:e.name},t)}))]}))]}),g.subText&&Object(a.jsx)("small",{className:"form-control-label ".concat(g.labelClass?g.labelClass:""),children:g.subText})]})},ve=n(99),ye=(n(231),function(e){return e.show?Object(a.jsx)("div",{className:"text-center overlay",children:Object(a.jsx)("div",{className:"",children:Object(a.jsx)(ve.RingLoader,{})})}):Object(a.jsx)("span",{})}),Ce=n(17),Ne=n(276),Se=n.p+"static/media/bg1.d4d14e2f.jpg",_e=n.p+"static/media/logo.cce7c0c2.png",we=n.p+"static/media/Avatar-1.9e978fae.png",ke=(n(257),function(e){var t=e.bgImage,n=void 0!==t&&t,r=e.bgImageSrc,s=e.className,c=e.styles,i=void 0===c?{}:c,o=e.children,l=e.id,d=e.width,u=void 0===d?"":d;return n&&r?i.backgroundImage="url(".concat(r,")"):console.log(),Object(a.jsx)("section",{id:l,className:"py-5 ".concat(u," ").concat(s+" "+(n?"bg-image":"")),style:Object(m.a)({},i),children:o})}),Ie=(n(258),n(42)),Ae=n.n(Ie),Le=n(41),Ee=n(29),De=n(277),Te={titles:["","Name","email","phone","married","invest funds","networth","residence","nationality","rejected","deported","O dep","Y dep","T dep","A dep","contact med","ref","time"]},Re=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={search:"",loading:!1},e.onChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value)),e.onSearch(t.target.value)},e.onSearch=function(t){return e.setState({loading:!0},(function(){return e.props.searchDb("antigua",t).then((function(t){return e.setState({loading:!1})})).catch((function(t){return e.setState({loading:!1})}))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getImmigrants("antigua").then((function(e){return t.setState({loading:!1})})).catch((function(e){return t.setState({loading:!1})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.immigrantList;return Object(a.jsxs)("div",{id:"requests",className:"px-0 w-100 mx-auto",children:[Object(a.jsx)(ye,{show:this.state.loading}),Object(a.jsx)(x.a,{children:Object(a.jsx)(O.a,{children:Object(a.jsx)("h2",{children:"Antigua"})})}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(O.a,{sm:8,children:Object(a.jsx)(xe,{onChange:function(t){return e.onChange(t)},name:"search",value:this.state.search,placeholder:"Search..."})}),Object(a.jsx)(O.a,{sm:4,children:Object(a.jsx)(Le.CSVLink,{data:t.map((function(e){var t=e.first_name,n=e.last_name,r=e.email,s=e.phone,c=e.married,i=e.old_dependents,o=e.young_dependents,l=e.teen_dependents,d=e.average_dependents,u=e.rejected,j=e.deported,b=e.contact_medium,h=e.referee,m=e.createdAt,p=e.investRange,f=e.networthRange,x=e.residenceCountry,O=e.nationalityCountry,g=e.RejectedCountries,v=e.DeportedCountries;return{first_name:t,last_name:n,email:r,phone:s,married:c,old_dependents:i,young_dependents:o,teen_dependents:l,average_dependents:d,contact_medium:b,referee:h,createdAt:m,invest:"".concat(p.min,"-").concat(p.max),networth:"".concat(f.min,"-").concat(f.max),residenceCountry:x.name,nationalityCountry:O.name,RejectedCountries:g,DeportedCountries:v,rejected:u?g.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No",deported:j?v.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}})),target:"_blank",className:"btn btn-primary btn-block",filename:"Antigua-Immigrants",children:"Export to CSV"})})]}),Object(a.jsxs)(Ne.a,{className:"p-0 resp",children:[Object(a.jsxs)(De.a,{responsive:!0,striped:!0,bordered:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:Te.titles.map((function(e,t){return Object(a.jsx)("th",{className:"text-capitalize",children:e},t)}))})}),Object(a.jsx)("tbody",{children:t.map((function(e,t){var n=e.first_name,r=e.last_name,s=e.email,c=e.phone,i=e.married,o=e.old_dependents,l=e.young_dependents,d=e.teen_dependents,u=e.average_dependents,j=e.rejected,b=e.deported,h=e.contact_medium,m=e.referee,p=e.createdAt,f=e.investRange,x=e.networthRange,O=e.residenceCountry,g=e.nationalityCountry,v=e.RejectedCountries,y=e.DeportedCountries;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:t+1}),Object(a.jsx)("td",{children:"".concat(n," ").concat(r)}),Object(a.jsx)("td",{children:s}),Object(a.jsx)("td",{children:c}),Object(a.jsx)("td",{children:i}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:f.min,displayType:"text"})," - ",Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:f.max,displayType:"text"})]}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:x.min,displayType:"text"})," - ",Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:x.max,displayType:"text"})]}),Object(a.jsx)("td",{children:O.name}),Object(a.jsx)("td",{children:g.name}),Object(a.jsx)("td",{children:j?v.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}),Object(a.jsx)("td",{children:b?y.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}),Object(a.jsx)("td",{children:o}),Object(a.jsx)("td",{children:l}),Object(a.jsx)("td",{children:d}),Object(a.jsx)("td",{children:u}),Object(a.jsx)("td",{children:h}),Object(a.jsx)("td",{children:m}),Object(a.jsx)("td",{children:Ae()(p).format("L | HH:mm")})]},t)}))})]}),!t.length&&Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("strong",{children:"No result found"})})]})]})}}]),n}(r.Component),Me=Object(j.b)((function(e){var t=e.immigrantList;return Object(m.a)({},t)}),{getImmigrants:ne,searchDb:ae})(Re),qe=n(104),Be={titles:[{title:"",field:"id"},{title:"Name",field:"name"},{title:"group",field:"group"},{title:"Eligible Party",field:"eligible_party"},{title:"networth",field:"networthRange"},{title:"invest funds",field:"investRange"},{title:"nationality",field:"citizenshipCountry"},{title:"Residence",field:"residenceCountry"},{title:"email",field:"email"},{title:"phone",field:"phone"},{title:"DOB",field:"dob"},{title:"Married",field:"Married"},{title:"Man Experience",field:"managerial_experience"},{title:"Created At",field:"createdAt"}]},Fe=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={_q:"",invest_funds:"",loading:!1,query:{},startDate:"",endDate:"",sortConfig:{field:null,asc:!0}},e.enableKeyboard=function(){return document.onkeypress=function(){return!0}},e.disableKeyboard=function(){return document.onkeypress=function(){return!1}},e.sortData=function(t){var n=e.state.sortConfig,a=n.field,r=n.asc,s=t===a?!r:r;e.props.businessList.sort((function(e,n){var a=e[t],r=n[t];return"string"===typeof a?s?a.toLowerCase()<r.toLowerCase()?-1:a.toLowerCase()>r.toLowerCase()?1:0:-1:s?a-r:r-a})),e.setState({sortConfig:{field:t,asc:s}})},e.onChange=function(t){e.setState(Object(p.a)({query:Object(m.a)(Object(m.a)({},e.state.query),{},Object(p.a)({},t.target.name,t.target.value))},t.target.name,t.target.value)),e.onSearch()},e.onSearch=function(){return e.setState({loading:!0},(function(){return e.props.searchDb("businesses",e.state.query).then((function(t){return e.setState({loading:!1})})).catch((function(t){return e.setState({loading:!1})}))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getBusinessImmigrants("businesses").then((function(e){return t.setState({loading:!1,data:e})})).catch((function(e){return t.setState({loading:!1})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.businessList,r=t.investRanges,s=this.state,c=s.loading,i=s.invest_funds,o=s.startDate,l=s.endDate,d=s.sortConfig,u=d.asc,j=d.field;return Object(a.jsxs)("div",{id:"requests",className:"px-0 w-100 mx-auto",children:[Object(a.jsx)(ye,{show:c}),Object(a.jsx)(x.a,{children:Object(a.jsx)(O.a,{children:Object(a.jsx)("h2",{children:"Business"})})}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(O.a,{sm:6,className:"pb-3",children:Object(a.jsx)(xe,{onChange:function(t){return e.onChange(t)},name:"_q",value:this.state._q,placeholder:"Search...",subText:Object(a.jsxs)("i",{className:"text-gray",children:["searches ",Object(a.jsx)("span",{className:"text-info",children:"firstname"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"lastname"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"email"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"phone"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"eligible party"})," and"," ",Object(a.jsx)("span",{className:"text-info",children:"group"})]})})}),Object(a.jsx)(O.a,{sm:3,xs:6,className:"pr-1",children:Object(a.jsx)(Le.CSVLink,{data:n.map((function(e){var t=e.first_name,n=e.last_name,a=e.email,r=e.group,s=e.dob,c=e.eligible_party,i=e.phone,o=e.spouse,l=e.createdAt,d=e.investRange,u=e.networthRange,j=e.managerial_experience,b=e.residenceCountry,h=e.citizenshipCountry;return{first_name:t,last_name:n,email:a,group:r,dob:s,eligible_party:c,phone:i,married:null!==o,invest:"".concat(d.min,"-").concat(d.max),networth:"".concat(u.min,"-").concat(u.max),residenceCountry:b.name,citizenshipCountry:h.name,managerial_experience:j,createdAt:l}})),target:"_blank",className:"btn btn-primary btn-block",filename:"Business-Immigrants",children:"Exp All"})}),Object(a.jsx)(O.a,{sm:3,xs:6,className:"pl-1",children:Object(a.jsx)(Le.CSVLink,{data:n.map((function(e){return{first_name:e.first_name,last_name:e.last_name,email:e.email,phone:e.phone}})),target:"_blank",className:"btn btn-info btn-block",filename:"Business-Immigrants(filtered)",children:"Exp Few"})})]}),Object(a.jsxs)(x.a,{className:"mt-3",children:[Object(a.jsx)(O.a,{sm:"12",children:Object(a.jsx)("h4",{children:"Filter By:"})}),Object(a.jsx)(O.a,{xs:"6",children:Object(a.jsx)(ge,{id:"invest_funds",name:"invest_funds",value:i,options:[{name:"None",value:""}].concat(Object(qe.a)(r)),placeholder:"Select...",onSelect:this.onChange,label:"Available to Invest",bsSize:"sm"})}),Object(a.jsx)(O.a,{xs:"3",className:"pr-1",children:Object(a.jsx)(Oe,{inputProps:{style:{type:"date",border:"1px solid #cad1d7"},required:!0,placeholder:"from",class:"form-control-sm form-control filter-input"},label:"Created",onFocus:this.disableKeyboard,onBlur:this.enableKeyboard,value:o,autoComplete:"off",name:"startDate",id:"startDate",onChange:function(t){return e.onChange(Object(m.a)(Object(m.a)({},t),{},{target:Object(m.a)(Object(m.a)({},t.target),{},{name:"startDate"})}))}})}),Object(a.jsx)(O.a,{xs:"3",className:"pl-1",children:Object(a.jsx)(Oe,{inputProps:{style:{type:"date",border:"1px solid #cad1d7"},required:!0,placeholder:"to",class:"form-control-sm form-control filter-input"},label:"-",onFocus:this.disableKeyboard,onBlur:this.enableKeyboard,value:l,autoComplete:"off",name:"endDate",id:"endDate",onChange:function(t){return e.onChange(Object(m.a)(Object(m.a)({},t),{},{target:Object(m.a)(Object(m.a)({},t.target),{},{name:"endDate"})}))}})})]}),Object(a.jsxs)(Ne.a,{className:"p-0 resp mt-3",children:[Object(a.jsxs)(De.a,{responsive:!0,striped:!0,bordered:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:Be.titles.map((function(t,n){var r=t.title,s=t.field;return Object(a.jsxs)("th",{className:"text-capitalize",children:[r," ",Object(a.jsxs)("button",{className:"d-inline btn btn-link px-0",onClick:function(){return e.sortData(s)},children:[Object(a.jsx)("i",{className:"fa fa-angle-down mr-0 ".concat(j===s&&u?"text-secondary":"")}),Object(a.jsx)("i",{className:"fa fa-angle-up mr-0 ".concat(j!==s||u?"":"text-secondary")})]})]},n)}))})}),Object(a.jsx)("tbody",{children:n.map((function(e,t){var n=e.first_name,r=e.last_name,s=e.email,c=e.group,i=e.dob,o=e.eligible_party,l=e.phone,d=e.spouse,u=e.createdAt,j=e.investRange,b=e.networthRange,h=e.managerial_experience,m=e.residenceCountry,p=e.citizenshipCountry;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:t+1}),Object(a.jsx)("td",{children:"".concat(n," ").concat(r)}),Object(a.jsxs)("td",{children:["Group ",c]}),Object(a.jsx)("td",{children:o}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:j.min,displayType:"text"})," - ",Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:j.max,displayType:"text"})]}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:b.min,displayType:"text"})," - ",Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:b.max,displayType:"text"})]}),Object(a.jsx)("td",{children:p.name}),Object(a.jsx)("td",{children:m.name}),Object(a.jsx)("td",{children:s}),Object(a.jsx)("td",{children:l}),Object(a.jsx)("td",{children:Z(i)}),Object(a.jsx)("td",{children:null!==d?"true":"false"}),Object(a.jsx)("td",{children:h?"true":"false"}),Object(a.jsx)("td",{children:Ae()(u).format("L | HH:mm")})]},t)}))})]}),!n.length&&Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("strong",{children:"No result found"})})]})]})}}]),n}(r.Component),Ue=Object(j.b)((function(e){var t=e.businessList;return Object(m.a)({},t)}),{getBusinessImmigrants:function(){return function(){var e=Object(N.a)(C.a.mark((function e(t,n){var a,r,s,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:G}),a=n(),r=a.auth.token,s={headers:{Authorization:"Bearer ".concat(r)}},e.next=6,_.a.get("".concat(w,"/immigrants/businesses"),s);case 6:return c=e.sent,t({type:P,payload:c.data}),e.abrupt("return",c.data);case 11:e.prev=11,e.t0=e.catch(0),t({type:z,payload:J(e.t0)}),Object(h.b)(J(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},searchDb:ae})(Fe),Ge={titles:[{title:"",field:"id"},{title:"Name",field:"name"},{title:"group",field:"group"},{title:"Eligible Party",field:"eligible_party"},{title:"nationality",field:"citizenshipCountry"},{title:"Residence",field:"residenceCountry"},{title:"email",field:"email"},{title:"phone",field:"phone"},{title:"DOB",field:"dob"},{title:"Married",field:"Married"},{title:"Created At",field:"createdAt"}]},Pe=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={_q:"",loading:!1,query:{},startDate:"",endDate:"",sortConfig:{field:null,asc:!0}},e.enableKeyboard=function(){return document.onkeypress=function(){return!0}},e.disableKeyboard=function(){return document.onkeypress=function(){return!1}},e.sortData=function(t){var n=e.state.sortConfig,a=n.field,r=n.asc,s=t===a?!r:r;e.props.generalList.sort((function(e,n){var a=e[t],r=n[t];return"string"===typeof a?s?a.toLowerCase()<r.toLowerCase()?-1:a.toLowerCase()>r.toLowerCase()?1:0:-1:s?a-r:r-a})),e.setState({sortConfig:{field:t,asc:s}})},e.onChange=function(t){e.setState(Object(p.a)({query:Object(m.a)(Object(m.a)({},e.state.query),{},Object(p.a)({},t.target.name,t.target.value))},t.target.name,t.target.value)),e.onSearch()},e.onSearch=function(){return e.setState({loading:!0},(function(){return e.props.searchDb("generals",e.state.query).then((function(t){return e.setState({loading:!1})})).catch((function(t){return e.setState({loading:!1})}))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getGeneralImmigrants().then((function(e){return t.setState({loading:!1,data:e})})).catch((function(e){return t.setState({loading:!1})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.generalList,n=this.state,r=n.loading,s=n.startDate,c=n.endDate,i=n.sortConfig,o=i.asc,l=i.field;return Object(a.jsxs)("div",{id:"requests",className:"px-0 w-100 mx-auto",children:[Object(a.jsx)(ye,{show:r}),Object(a.jsx)(x.a,{children:Object(a.jsx)(O.a,{children:Object(a.jsx)("h2",{children:"General"})})}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(O.a,{sm:6,className:"pb-3",children:Object(a.jsx)(xe,{onChange:function(t){return e.onChange(t)},name:"_q",value:this.state._q,placeholder:"Search...",subText:Object(a.jsxs)("i",{className:"text-gray",children:["searches ",Object(a.jsx)("span",{className:"text-info",children:"firstname"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"lastname"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"email"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"phone"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"eligible party"})," and"," ",Object(a.jsx)("span",{className:"text-info",children:"group"})]})})}),Object(a.jsx)(O.a,{sm:3,xs:6,className:"pr-1",children:Object(a.jsx)(Le.CSVLink,{data:t.map((function(e){var t=e.first_name,n=e.last_name,a=e.email,r=e.group,s=e.dob,c=e.eligible_party,i=e.phone,o=e.spouse,l=e.createdAt,d=e.residenceCountry,u=e.citizenshipCountry;return{first_name:t,last_name:n,email:a,group:r,dob:s,eligible_party:c,phone:i,married:null!==o,residenceCountry:d.name,citizenshipCountry:u.name,createdAt:l}})),target:"_blank",className:"btn btn-primary btn-block",filename:"General-Immigrants",children:"Exp All"})}),Object(a.jsx)(O.a,{sm:3,xs:6,className:"pl-1",children:Object(a.jsx)(Le.CSVLink,{data:t.map((function(e){return{first_name:e.first_name,last_name:e.last_name,email:e.email,phone:e.phone}})),target:"_blank",className:"btn btn-info btn-block",filename:"General-Immigrants(filtered)",children:"Exp Few"})})]}),Object(a.jsxs)(x.a,{className:"mt-3",children:[Object(a.jsx)(O.a,{sm:"12",children:Object(a.jsx)("h4",{children:"Filter By:"})}),Object(a.jsx)(O.a,{xs:"3",className:"pr-1",children:Object(a.jsx)(Oe,{inputProps:{style:{type:"date",border:"1px solid #cad1d7"},required:!0,placeholder:"from",class:"form-control-sm form-control filter-input"},label:"Created",onFocus:this.disableKeyboard,onBlur:this.enableKeyboard,value:s,autoComplete:"off",name:"startDate",id:"startDate",onChange:function(t){return e.onChange(Object(m.a)(Object(m.a)({},t),{},{target:Object(m.a)(Object(m.a)({},t.target),{},{name:"startDate"})}))}})}),Object(a.jsx)(O.a,{xs:"3",className:"pl-1",children:Object(a.jsx)(Oe,{inputProps:{style:{type:"date",border:"1px solid #cad1d7"},required:!0,placeholder:"to",class:"form-control-sm form-control filter-input"},label:"-",onFocus:this.disableKeyboard,onBlur:this.enableKeyboard,value:c,autoComplete:"off",name:"endDate",id:"endDate",onChange:function(t){return e.onChange(Object(m.a)(Object(m.a)({},t),{},{target:Object(m.a)(Object(m.a)({},t.target),{},{name:"endDate"})}))}})})]}),Object(a.jsxs)(Ne.a,{className:"p-0 resp mt-3",children:[Object(a.jsxs)(De.a,{responsive:!0,striped:!0,bordered:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:Ge.titles.map((function(t,n){var r=t.title,s=t.field;return Object(a.jsxs)("th",{className:"text-capitalize",children:[r," ",Object(a.jsxs)("button",{className:"d-inline btn btn-link px-0",onClick:function(){return e.sortData(s)},children:[Object(a.jsx)("i",{className:"fa fa-angle-down mr-0 ".concat(l===s&&o?"text-secondary":"")}),Object(a.jsx)("i",{className:"fa fa-angle-up mr-0 ".concat(l!==s||o?"":"text-secondary")})]})]},n)}))})}),Object(a.jsx)("tbody",{children:t.map((function(e,t){var n=e.first_name,r=e.last_name,s=e.email,c=e.group,i=e.dob,o=e.eligible_party,l=e.phone,d=e.spouse,u=e.createdAt,j=e.residenceCountry,b=e.citizenshipCountry;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:t+1}),Object(a.jsx)("td",{children:"".concat(n," ").concat(r)}),Object(a.jsxs)("td",{children:["Group ",c]}),Object(a.jsx)("td",{children:o}),Object(a.jsx)("td",{children:b.name}),Object(a.jsx)("td",{children:j.name}),Object(a.jsx)("td",{children:s}),Object(a.jsx)("td",{children:l}),Object(a.jsx)("td",{children:Z(i)}),Object(a.jsx)("td",{children:null!==d?"true":"false"}),Object(a.jsx)("td",{children:Ae()(u).format("L | HH:mm")})]},t)}))})]}),!t.length&&Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("strong",{children:"No result found"})})]})]})}}]),n}(r.Component),ze=Object(j.b)((function(e){var t=e.generalList;return Object(m.a)({},t)}),{getGeneralImmigrants:function(){return function(){var e=Object(N.a)(C.a.mark((function e(t,n){var a,r,s,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:V}),a=n(),r=a.auth.token,s={headers:{Authorization:"Bearer ".concat(r)}},e.next=6,_.a.get("".concat(w,"/immigrants/generals"),s);case 6:return c=e.sent,t({type:K,payload:c.data}),e.abrupt("return",c.data);case 11:e.prev=11,e.t0=e.catch(0),t({type:$,payload:J(e.t0)}),Object(h.b)(J(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},searchDb:ae})(Pe),Ve={titles:["","Name","email","phone","married","invest funds","networth","residence","nationality","rejected","deported","O dep","Y dep","T dep","A dep","contact med","ref","time"]},Ke=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={search:"",loading:!1},e.onChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value)),e.onSearch(t.target.value)},e.onSearch=function(t){return e.setState({loading:!0},(function(){return e.props.searchDb("stkitts",t).then((function(t){return e.setState({loading:!1})})).catch((function(t){return e.setState({loading:!1})}))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getImmigrants("stkitts").then((function(e){return t.setState({loading:!1})})).catch((function(e){return t.setState({loading:!1})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.immigrantList;return Object(a.jsxs)("div",{id:"requests",className:"px-0 w-100 mx-auto",children:[Object(a.jsx)(ye,{show:this.state.loading}),Object(a.jsx)(x.a,{children:Object(a.jsx)(O.a,{children:Object(a.jsx)("h2",{children:"St. Kitts"})})}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(O.a,{sm:8,children:Object(a.jsx)(xe,{onChange:function(t){return e.onChange(t)},name:"search",value:this.state.search,placeholder:"Search..."})}),Object(a.jsx)(O.a,{sm:4,children:Object(a.jsx)(Le.CSVLink,{data:t.map((function(e){var t=e.first_name,n=e.last_name,r=e.email,s=e.phone,c=e.married,i=e.old_dependents,o=e.young_dependents,l=e.teen_dependents,d=e.average_dependents,u=e.rejected,j=e.deported,b=e.contact_medium,h=e.referee,m=e.createdAt,p=e.investRange,f=e.networthRange,x=e.residenceCountry,O=e.nationalityCountry,g=e.RejectedCountries,v=e.DeportedCountries;return{first_name:t,last_name:n,email:r,phone:s,married:c,old_dependents:i,young_dependents:o,teen_dependents:l,average_dependents:d,contact_medium:b,referee:h,createdAt:m,invest:"".concat(p.min,"-").concat(p.max),networth:"".concat(f.min,"-").concat(f.max),residenceCountry:x.name,nationalityCountry:O.name,RejectedCountries:g,DeportedCountries:v,rejected:u?g.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No",deported:j?v.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}})),target:"_blank",className:"btn btn-primary btn-block",filename:"Stkitts-Immigrants",children:"Export to CSV"})})]}),Object(a.jsxs)(Ne.a,{className:"p-0 resp",children:[Object(a.jsxs)(De.a,{responsive:!0,striped:!0,bordered:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:Ve.titles.map((function(e,t){return Object(a.jsx)("th",{className:"text-capitalize",children:e},t)}))})}),Object(a.jsx)("tbody",{children:t.map((function(e,t){var n=e.first_name,r=e.last_name,s=e.email,c=e.phone,i=e.married,o=e.old_dependents,l=e.young_dependents,d=e.teen_dependents,u=e.average_dependents,j=e.rejected,b=e.deported,h=e.contact_medium,m=e.referee,p=e.createdAt,f=e.investRange,x=e.networthRange,O=e.residenceCountry,g=e.nationalityCountry,v=e.RejectedCountries,y=e.DeportedCountries;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:t+1}),Object(a.jsx)("td",{children:"".concat(n," ").concat(r)}),Object(a.jsx)("td",{children:s}),Object(a.jsx)("td",{children:c}),Object(a.jsx)("td",{children:i}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:f.min,displayType:"text"})," - ",Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:f.max,displayType:"text"})]}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:x.min,displayType:"text"})," - ",Object(a.jsx)(Ee.a,{thousandSeparator:!0,prefix:"$",value:x.max,displayType:"text"})]}),Object(a.jsx)("td",{children:O.name}),Object(a.jsx)("td",{children:g.name}),Object(a.jsx)("td",{children:j?v.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}),Object(a.jsx)("td",{children:b?y.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}),Object(a.jsx)("td",{children:o}),Object(a.jsx)("td",{children:l}),Object(a.jsx)("td",{children:d}),Object(a.jsx)("td",{children:u}),Object(a.jsx)("td",{children:h}),Object(a.jsx)("td",{children:m}),Object(a.jsx)("td",{children:Ae()(p).format("L | HH:mm")})]},t)}))})]}),!t.length&&Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("strong",{children:"No result found"})})]})]})}}]),n}(r.Component),$e=[{path:"/antigua",name:"All Antigua",component:Me},{path:"/stkitts",name:"All St. Kitts",component:Object(j.b)((function(e){var t=e.immigrantList;return Object(m.a)({},t)}),{getImmigrants:ne,searchDb:ae})(Ke)},{path:"/businesses",name:"All Business Immigrants",component:Ue},{path:"/generals",name:"All General Immigrants",component:ze},{path:"/",name:"All Antigua",component:Me}],He=function(){var e=Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(w,"/utilities/countries"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(w,"/utilities/funds/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={showMenu:!1,loading:!1,countries:[],investRanges:[]},e.initFunc=Object(N.a)(C.a.mark((function t(){var n,a,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,He();case 4:return n=t.sent,t.next=7,Qe("invest");case 7:a=t.sent,e.setState({loading:!1,countries:n.data,investRanges:a.data}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),e.setState({loading:!1}),L(null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.data,h.b);case 15:case"end":return t.stop()}}),t,null,[[1,11]])}))),e.toggleMenu=function(){return e.setState({showMenu:!e.state.showMenu})},e.getRoutes=function(t){var n=e.state,r=n.investRanges,s=n.countries;return t.map((function(e,t){return Object(a.jsx)(Ce.b,{path:e.path,component:function(){return Object(a.jsx)(e.component,{countries:s.map((function(e){return{name:e.name,value:e.id}})),investRanges:te(r)})}},t)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.initFunc()}},{key:"render",value:function(){var e=this,t=this.props.user,n=this.state.showMenu;return t?Object(a.jsx)(ke,{bgImage:!0,bgImageSrc:Se,id:"showcase",className:"default-padding",children:Object(a.jsxs)("div",{className:"container",id:"Dashboard",children:[Object(a.jsx)("div",{children:Object(a.jsxs)(Ne.a,{className:"p-3 bg-faded flex-md-row justify-content-between",children:[Object(a.jsxs)("h2",{className:"text-center",children:[Object(a.jsx)("i",{className:"fa fa-bars d-md-none float-left",onClick:function(){return e.toggleMenu()}}),Object(a.jsx)(b.b,{to:"/",children:Object(a.jsx)("span",{className:" float-md-none float-right",children:"Dashboard"})})]}),Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("img",{src:"".concat(_e),alt:"Loft",height:60})})]})}),Object(a.jsxs)(x.a,{className:"row-eq-height",children:[Object(a.jsx)(O.a,{className:"mt-md-3 pr-0 menu ".concat(n?" show ":"","d-md-block"),sm:"12",md:"3",onClick:function(t){t.target.classList.contains("menu")&&e.toggleMenu()},children:Object(a.jsxs)(Ne.a,{className:"bg-faded p-4 h-100",children:[Object(a.jsx)("h2",{className:"text-right",children:Object(a.jsx)("i",{onClick:function(){return e.toggleMenu()},className:"d-md-none fa fa-times"})}),Object(a.jsxs)("div",{className:"text-center mt-4",children:[Object(a.jsx)("img",{alt:"...",className:"rounded-circle w-50",src:"".concat(we)}),Object(a.jsx)("br",{}),Object(a.jsx)("strong",{children:"".concat(t.email)}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"h5 font-weight-300",children:t.email})]}),Object(a.jsxs)("div",{id:"menu",className:"mt-4",children:[Object(a.jsx)("p",{className:"mb-1",children:Object(a.jsx)(b.c,{activeClassName:"active",onClick:this.toggleMenu,to:"/antigua",children:"Antigua Immigrants"})}),Object(a.jsx)("hr",{className:"mt-0 mb-3"}),Object(a.jsx)("p",{className:"mb-1",children:Object(a.jsx)(b.c,{activeClassName:"active",onClick:this.toggleMenu,to:"/stkitts",children:"St. Kitts Immigrants"})}),Object(a.jsx)("hr",{className:"mt-0 mb-3"}),Object(a.jsx)("p",{className:"mb-1",children:Object(a.jsx)(b.c,{activeClassName:"active",onClick:this.toggleMenu,to:"/businesses",children:"Business Immigrants"})}),Object(a.jsx)("hr",{className:"mt-0 mb-3"}),Object(a.jsx)("p",{className:"mb-1",children:Object(a.jsx)(b.c,{activeClassName:"active",onClick:this.toggleMenu,to:"/generals",children:"General Immigrants"})}),Object(a.jsx)("hr",{className:"mt-0 mb-3"}),Object(a.jsx)(v.a,{block:!0,onClick:this.props.logOut,color:"danger",children:"Logout"})]})]})}),Object(a.jsx)(O.a,{className:"mt-3",md:"9",children:Object(a.jsxs)(Ne.a,{className:"bg-faded p-sm-4 p-2 h-100",children:[Object(a.jsx)(ye,{show:this.state.loading}),Object(a.jsx)(Ce.d,{children:this.getRoutes($e)})]})})]})]})}):Object(a.jsx)(Ce.a,{to:"/auth/login"})}}]),n}(r.Component),We=Object(j.b)((function(e){var t=e.auth;return Object(m.a)({},t)}),{logOut:function(){return function(e){localStorage.removeItem("user"),localStorage.removeItem("token"),k.headers.Authorization="",Object(h.b)("Successfully logged out"),e({type:A})}}})(Je),Ye={email:"",password:"",prevPath:"/",loading:!1},Xe=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state=Ye,e.onChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.loginUser=function(t){t.preventDefault(),e.setState({loading:!0}),e.props.authenticateUser(e.state,(function(t,n){return t?e.setState(Ye):e.setState(n)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return this.props.isAuthenticated?Object(a.jsx)(We,{}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(f.a,{id:"Quote",className:"mt-5 pt-5",children:[Object(a.jsx)(x.a,{className:"mb-4",children:Object(a.jsx)(O.a,{className:"text-center",children:Object(a.jsx)("img",{src:_e,style:{maxHeight:"5rem"},alt:"Logo"})})}),Object(a.jsx)(g.a,{onSubmit:this.loginUser.bind(this),children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)(ye,{show:this.state.loading}),Object(a.jsxs)(O.a,{sm:"6",lg:4,className:"offset-sm-3 offset-lg-4 py-2",children:[Object(a.jsx)(xe,{onChange:function(t){return e.onChange(t)},name:"email",value:this.state.email,isRequired:!0,placeholder:"Username",iconClass:"ni ni-email-83",autoFocus:!0,className:"mb-1"}),Object(a.jsx)(xe,{onChange:function(t){return e.onChange(t)},name:"password",type:"password",value:this.state.password,isRequired:!0,isPassword:!0,placeholder:"Password",iconClass:"ni ni-lock-circle-open"}),Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)(v.a,{block:!0,className:"mt-4 mb-2",color:"primary",type:"submit",children:"Login"})})]})]})})]})})}}]),n}(r.Component),Ze=Object(j.b)((function(e){var t=e.auth;return Object(m.a)({},t)}),{authenticateUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(){var n=Object(N.a)(C.a.mark((function n(a){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.a.post("".concat(w,"/users/login"),e,k).then(function(){var e=Object(N.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,!1),e.next=3,E(n.data)(a);case 3:Object(h.b)("Login Successful");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t(!1,{loading:!1}),L("Invalid Credentials",h.b)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(Xe),et=n(43),tt=n(100),nt=n(101),at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:var n=t.payload.token;return delete t.payload.token,Y("token",n),Y("user",t.payload),Object(m.a)(Object(m.a)({},e),{},{authLoaded:!0,token:n,user:t.payload,isAuthenticated:!0,goBack:!0});case A:return Object(m.a)(Object(m.a)({},e),{},{authLoaded:!0,isAuthenticated:!1,user:null,token:""});default:return e}},rt=Object(et.combineReducers)({auth:at,immigrantDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=void 0===a?null:a;switch(n){case q:return{loading:!0};case B:return{loading:!1,success:!0};case F:return{loading:!0,error:r};default:return e}},immigrantList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{immigrantList:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=void 0===a?null:a;switch(n){case T:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case R:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,immigrantList:r});case M:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:r});case U:return{immigrantList:[]};default:return e}},businessList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{businessList:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=void 0===a?null:a;switch(n){case G:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case P:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,businessList:r});case z:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:r});default:return e}},generalList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{generalList:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=void 0===a?null:a;switch(n){case V:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case K:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,generalList:r});case $:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:r});default:return e}}}),st={auth:{isAuthenticated:W("token",!1),user:W("user"),token:W("token",!1)}},ct=[nt.a],it=Object(et.createStore)(rt,st,Object(tt.composeWithDevTools)(et.applyMiddleware.apply(void 0,ct))),ot=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(j.a,{store:it,children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(h.a,{autoClose:8e3,draggable:!0,enableMultiContainer:!0,containerId:"A",position:"top-right"}),Object(a.jsx)(h.a,{autoClose:8e3,draggable:!0,enableMultiContainer:!0,containerId:"B",position:"bottom-left"}),Object(a.jsx)(h.a,{autoClose:8e3,draggable:!0}),Object(a.jsx)(Ze,{})]})})}}]),n}(r.Component);n(263),n(264),n(265),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(ot,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[266,1,2]]]);
//# sourceMappingURL=main.1f6546b9.chunk.js.map