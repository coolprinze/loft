(this["webpackJsonpsowshea-admin"]=this["webpackJsonpsowshea-admin"]||[]).push([[0],{144:function(e,t,n){},236:function(e,t,n){},262:function(e,t,n){},263:function(e,t,n){},275:function(e,t,n){},276:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),c=n(19),i=n.n(c),o=n(21),l=n(22),d=n(24),u=n(23),j=n(31),b=n(39),m=n(14),h=(n(121),n(4)),p=n(32),f=n(292),O=n(287),g=n(285),x=n(293),v=n(290),y=n(10),C=n.n(y),N=n(13),_=n(36),S=n.n(_),w="https://api-v2.loftimmigration.com",k={headers:{"Content-Type":"application/json",Accept:"application/json"}},I="AUTH_SUCCESS",L="LOGOUT_USER",A=function(e,t){if(Array.isArray(e))e.forEach((function(e){return t(e[Object.keys(e)[0]])}));else if("object"===typeof e)if(e.message)t(e.message);else if(e.error&&e.auth)localStorage.removeItem("token"),localStorage.removeItem("user"),t(e.error),{type:L};else{Object.keys(e).forEach((function(n){t(e[n])}))}else"string"===typeof e&&t(e)},E=function(e){return function(){var t=Object(N.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:I,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=n(108),T="IMMIGRANT_LIST_REQUEST",R="IMMIGRANT_LIST_SUCCESS",M="IMMIGRANT_LIST_FAILED",q="IMMIGRANT_DELETE_REQUEST",B="IMMIGRANT_DELETE_SUCCESS",F="IMMIGRANT_DELETE_FAILED",U="IMMIGRANT_LIST_RESET",G="BUSINESS_LIST_REQUEST",P="BUSINESS_LIST_SUCCESS",z="BUSINESS_LIST_FAILED",V="GENERAL_LIST_REQUEST",K="GENERAL_LIST_SUCCESS",$="GENERAL_LIST_FAILED",H="UPDATE_IMMIGRANT_REQUEST",Q="UPDATE_GENERAL_SUCCESS",Y="UPDATE_BUSINESS_SUCCESS",J="UPDATE_IMMIGRANT_FAILED",W=n(38),X=n.n(W),Z=n(142).format,ee=function(e){"Invalid token"===e&&(re("user"),re("token"),window.location.reload())},te=function(e){return e.response?(ee(e.response.data.message),e.response.data.message):e.message?(ee(e.message),e.message):void 0},ne=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=localStorage.getItem(e);return n?t?JSON.parse(n):n:null},ae=function(e,t){return localStorage.setItem(e,"object"===typeof t?JSON.stringify(t):t)},re=function(e){return localStorage.removeItem(e)},se=function(e){var t=(new Date).getTime()-new Date(e).getTime(),n=new Date(t);return Math.abs(n.getUTCFullYear()-1970)},ce=function(e){return Z(e,{currency:"$",showDecimals:"NEVER",currencyPosition:"LEFT",spacing:!1})},ie=function(e){return e.sort((function(e,t){return e.min-t.min})).map((function(e){return{name:0===e.min?"Less than ".concat(ce(e.max)):0===e.max?"Above ".concat(ce(e.min)):"".concat(ce(e.min)," to ").concat(ce(e.max)),value:e.id}}))},oe=function(e,t){var n=X()(e),a=X()(t),r=a.diff(n,"year");n.add(r,"years");var s=a.diff(n,"months");return n.add(s,"months"),"".concat(r," years ").concat(s?"and ".concat(s," months"):"")},le=function(e){var t="";return e.map((function(n,a){var r=n.from,s=n.to,c=n.degree,i=n.school,o=n.city,l=n.country;return t+="(".concat(oe(r,s)," ").concat(c.title," in ").concat(i,", ").concat(o," ").concat(l.name,")").concat(a+1===e.length?"":","," "),null})),e.length?t:"None"},de=function(e){var t="";return e.map((function(n,a){var r=n.from,s=n.to,c=n.employer,i=n.city,o=n.occupation,l=n.country;return t+="(Worked ".concat(oe(r,s)," as a/an ").concat(o.name," in ").concat(c,", ").concat(i," ").concat(l.name,")").concat(a+1===e.length?"":","," "),null})),e.length?t:"None"},ue=function(e){var t="";return e.map((function(n,a){var r=n.level,s=n.language;return t+="(".concat(s.name," >> ").concat(r,")").concat(a+1===e.length?"":","," "),null})),e.length?t:"None"},je=function(e){return function(){var t=Object(N.a)(C.a.mark((function t(n,a){var r,s,c,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:T}),r=a(),s=r.auth.token,c={headers:{Authorization:"Bearer ".concat(s)}},t.next=6,S.a.get("".concat(w,"/immigrants/").concat(e),c);case 6:i=t.sent,n({type:R,payload:i.data}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:M,payload:te(t.t0)}),Object(m.b)(te(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},be=function(e,t,n){return function(){var a=Object(N.a)(C.a.mark((function a(r,s){var c,i,o,l;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:H}),c=s(),i=c.auth.token,o={headers:{Authorization:"Bearer ".concat(i)}},a.next=6,S.a.patch("".concat(w,"/immigrants/").concat(n,"/").concat(e),t,o);case 6:return l=a.sent,r({type:"businesses"===n?Y:Q,payload:l.data}),a.abrupt("return",l.data);case 12:a.prev=12,a.t0=a.catch(0),r({type:J,payload:te(a.t0)}),Object(m.b)(te(a.t0));case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e,t){return a.apply(this,arguments)}}()},me=function(e,t){return function(){var n=Object(N.a)(C.a.mark((function n(a,r){var s,c,i,o,l,d,u,j,b,h;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(n.prev=0,a({type:"SEARCH_IMMIGRANT_REQUEST"}),s=r(),c=s.auth.token,i={headers:{Authorization:"Bearer ".concat(c)}},o="?",l=0,d=Object.entries(t);l<d.length;l++)u=Object(D.a)(d[l],2),j=u[0],(b=u[1]).toString()&&(o+="".concat(j,"=").concat(b,"&"));return n.next=8,S.a.get("".concat(w,"/immigrants/").concat(e+o),i);case 8:h=n.sent,a({type:"businesses"===e?P:"generals"===e?K:R,payload:h.data}),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),a({type:"SEARCH_IMMIGRANT_FAILED",payload:te(n.t0)}),Object(m.b)(te(n.t0));case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e,t){return n.apply(this,arguments)}}()},he=n(41),pe=n(102),fe=n.n(pe),Oe=(n(107),n(110)),ge=n(282),xe=n(283),ve=n(284),ye=n(103),Ce=n(295),Ne=(n(286),n(30)),_e=n.n(Ne),Se=(n(144),n(280)),we=n(281),ke=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={isValid:{valid:!1,invalid:!1},feedBack:""},e.changeState=function(t,n){e.setState({isValid:{invalid:!t,valid:t}}),e.setState({feedBack:t?"":Object(a.jsx)(Se.a,{style:{display:"block"},children:n})})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){if(!this.props.invalid||!1!==this.state.isValid.invalid)return null;this.changeState(!1,"this field is required")}},{key:"render",value:function(){var e=this,t=this.props,n=t.isRequired,r=t.isEmail,s=t.isPhoneNumber,c=t.isPassword,i=t.value,o=Object(he.a)(t,["isRequired","isEmail","isPhoneNumber","isPassword","value"]),l=this.state.isValid;l.valid,l.invalid;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(we.a,Object(h.a)(Object(h.a)({onKeyUp:function(){return n||o.required?e.errorText():null},type:s?"tel":r?"email":c?"password":"text",value:null===i?"":i},o),this.state.isValid)),this.state.feedBack]})}},{key:"errorText",value:function(){var e=this,t=this.props,n=t.isRequired,a=t.required,r=t.isEmail,s=t.isPhoneNumber,c=t.isPassword,i=t.value,o=function(){r?e.changeState(_e.a.isEmail(i),"Invalid email address"):s?e.changeState(_e.a.isMobilePhone(i.replaceAll(" ",""),"any"),"Invalid phone number"):c?e.changeState(_e.a.isLength(i,{min:6}),"Password must be at least 6 characters"):e.changeState(!0,"")};(n||a)&&_e.a.isEmpty(i)?this.changeState(!1,"this field is required"):o()}}]),n}(r.Component),Ie=(Object(Oe.a)(),function(e){e.iconClass;var t=e.label,n=void 0===t?"":t,r=e.invalid,s=void 0!==r&&r,c=Object(he.a)(e,["iconClass","label","invalid"]);return Object(a.jsxs)(a.Fragment,{children:[_e.a.isEmpty(n)?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)("label",{className:"form-control-label mt-2",htmlFor:c.name,children:[n,c.required&&Object(a.jsx)("span",{className:"text-danger",children:"*"})]}),Object(a.jsx)(ke,Object(h.a)({invalid:s,value:!0},c)),c.subText&&Object(a.jsx)("small",{children:c.subText})]})}),Le=function(e){var t=e.onChange,n=void 0===t?function(e){}:t,r=e.iconClass,s=void 0===r?"":r,c=e.label,i=void 0===c?"":c,o=e.value,l=void 0===o?"":o,d=Object(he.a)(e,["onChange","iconClass","label","value"]);return Object(a.jsxs)(ge.a,{className:"mb-2",children:[_e.a.isEmpty(i)?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)("label",{className:"form-control-label mt-2",htmlFor:d.name,children:[i,d.required&&Object(a.jsx)("span",{className:"text-danger",children:"*"})]}),Object(a.jsxs)(xe.a,{className:"input-group-alternative",children:[_e.a.isEmpty(s)?"":Object(a.jsx)(ve.a,{addonType:"prepend",children:Object(a.jsx)(ye.a,{children:Object(a.jsx)("i",{className:s})})}),Object(a.jsx)(fe.a,Object(h.a)({onChange:function(e){return n({target:{name:d.name,value:e._d}})},closeOnSelect:!0,timeFormat:!1,value:l},{rest:d,inputProps:Object(h.a)(Object(h.a)({},d.inputProps),{},{style:{type:"date"},required:d.required,className:"form-control ".concat(d.invalid?"is-invalid":"")})}))]})]})},Ae=function(e){var t=e.placeholder,n=e.name,r=e.options,s=void 0===r?[]:r,c=e.onSelect,i=e.id,o=void 0===i?"":i,l=e.required,d=void 0!==l&&l,u=e.value,j=void 0===u?"":u,b=e.iconClass,m=void 0===b?"":b,p=e.disabled,f=void 0!==p&&p,O=e.label,g=void 0===O?"":O,x=(e.defaultValue,Object(he.a)(e,["placeholder","name","options","onSelect","id","required","value","iconClass","disabled","label","defaultValue"]));return Object(a.jsxs)(ge.a,{className:"mb-2",children:[_e.a.isEmpty(g)?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)("label",{className:"mt-2 form-control-label ".concat(x.labelClass?x.labelClass:""),htmlFor:n,children:[d&&Object(a.jsx)("span",{className:"text-danger",children:"* "}),g]}),Object(a.jsxs)(xe.a,{className:"input-group-alternative",children:[_e.a.isEmpty(m)?"":Object(a.jsx)(ve.a,{addonType:"prepend",children:Object(a.jsx)(ye.a,{children:Object(a.jsx)("i",{className:m})})}),Object(a.jsxs)(Ce.a,Object(h.a)(Object(h.a)({type:"select",id:o,name:n,onChange:c,required:d,disabled:f},x),{},{children:[Object(a.jsx)("option",{value:"",defaultValue:"",disabled:!!j,children:t}),s.map((function(e,t){return e.title&&(e.name=e.title),Object(a.jsx)("option",{defaultValue:e.name,value:e.value,selected:!!e.selected,children:e.name},t)}))]}))]}),x.subText&&Object(a.jsx)("small",{className:"form-control-label ".concat(x.labelClass?x.labelClass:""),children:x.subText})]})},Ee=n(104),De=(n(236),function(e){return e.show?Object(a.jsx)("div",{className:"text-center overlay",children:Object(a.jsx)("div",{className:"",children:Object(a.jsx)(Ee.RingLoader,{})})}):Object(a.jsx)("span",{})}),Te=n(15),Re=n(288),Me=n(291),qe=n.p+"static/media/bg1.d4d14e2f.jpg",Be=n.p+"static/media/logo.cce7c0c2.png",Fe=n.p+"static/media/Avatar-1.9e978fae.png",Ue=(n(262),function(e){var t=e.bgImage,n=void 0!==t&&t,r=e.bgImageSrc,s=e.className,c=e.styles,i=void 0===c?{}:c,o=e.children,l=e.id,d=e.width,u=void 0===d?"":d;return n&&r?i.backgroundImage="url(".concat(r,")"):console.log(),Object(a.jsx)("section",{id:l,className:"py-5 ".concat(u," ").concat(s+" "+(n?"bg-image":"")),style:Object(h.a)({},i),children:o})}),Ge=(n(263),n(43)),Pe=n(29),ze=n(289),Ve={titles:["","Name","email","phone","married","invest funds","networth","residence","nationality","rejected","deported","O dep","Y dep","T dep","A dep","contact med","ref","time"]},Ke=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={search:"",loading:!1},e.onChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value)),e.onSearch(t.target.value)},e.onSearch=function(t){return e.setState({loading:!0},(function(){return e.props.searchDb("antigua",t).then((function(t){return e.setState({loading:!1})})).catch((function(t){return e.setState({loading:!1})}))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getImmigrants("antigua").then((function(e){return t.setState({loading:!1})})).catch((function(e){return t.setState({loading:!1})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.immigrantList;return Object(a.jsxs)("div",{id:"requests",className:"px-0 w-100 mx-auto",children:[Object(a.jsx)(De,{show:this.state.loading}),Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)("h2",{children:"Antigua"})})}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(g.a,{sm:8,children:Object(a.jsx)(Ie,{onChange:function(t){return e.onChange(t)},name:"search",value:this.state.search,placeholder:"Search..."})}),Object(a.jsx)(g.a,{sm:4,children:Object(a.jsx)(Ge.CSVLink,{data:t.map((function(e){var t=e.first_name,n=e.last_name,r=e.email,s=e.phone,c=e.married,i=e.old_dependents,o=e.young_dependents,l=e.teen_dependents,d=e.average_dependents,u=e.rejected,j=e.deported,b=e.contact_medium,m=e.referee,h=e.createdAt,p=e.investRange,f=e.networthRange,O=e.residenceCountry,g=e.nationalityCountry,x=e.RejectedCountries,v=e.DeportedCountries;return{first_name:t,last_name:n,email:r,phone:s,married:c,old_dependents:i,young_dependents:o,teen_dependents:l,average_dependents:d,contact_medium:b,referee:m,createdAt:h,invest:"".concat(p.min,"-").concat(p.max),networth:"".concat(f.min,"-").concat(f.max),residenceCountry:O.name,nationalityCountry:g.name,RejectedCountries:x,DeportedCountries:v,rejected:u?x.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No",deported:j?v.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}})),target:"_blank",className:"btn btn-primary btn-block",filename:"Antigua-Immigrants",children:"Export to CSV"})})]}),Object(a.jsxs)(Re.a,{className:"p-0 resp",children:[Object(a.jsxs)(ze.a,{responsive:!0,striped:!0,bordered:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:Ve.titles.map((function(e,t){return Object(a.jsx)("th",{className:"text-capitalize",children:e},t)}))})}),Object(a.jsx)("tbody",{children:t.map((function(e,t){var n=e.first_name,r=e.last_name,s=e.email,c=e.phone,i=e.married,o=e.old_dependents,l=e.young_dependents,d=e.teen_dependents,u=e.average_dependents,j=e.rejected,b=e.deported,m=e.contact_medium,h=e.referee,p=e.createdAt,f=e.investRange,O=e.networthRange,g=e.residenceCountry,x=e.nationalityCountry,v=e.RejectedCountries,y=e.DeportedCountries;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:t+1}),Object(a.jsx)("td",{children:"".concat(n," ").concat(r)}),Object(a.jsx)("td",{children:s}),Object(a.jsx)("td",{children:c}),Object(a.jsx)("td",{children:i}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:f.min,displayType:"text"})," - ",Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:f.max,displayType:"text"})]}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:O.min,displayType:"text"})," - ",Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:O.max,displayType:"text"})]}),Object(a.jsx)("td",{children:g.name}),Object(a.jsx)("td",{children:x.name}),Object(a.jsx)("td",{children:j?v.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}),Object(a.jsx)("td",{children:b?y.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}),Object(a.jsx)("td",{children:o}),Object(a.jsx)("td",{children:l}),Object(a.jsx)("td",{children:d}),Object(a.jsx)("td",{children:u}),Object(a.jsx)("td",{children:m}),Object(a.jsx)("td",{children:h}),Object(a.jsx)("td",{children:X()(p).format("L | HH:mm")})]},t)}))})]}),!t.length&&Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("strong",{children:"No result found"})})]})]})}}]),n}(r.Component),$e=Object(j.b)((function(e){var t=e.immigrantList;return Object(h.a)({},t)}),{getImmigrants:je,searchDb:me})(Ke),He=n(109),Qe={titles:[{title:"",field:"id"},{title:"Convert To Client",field:"client_status"},{title:"Name",field:"name"},{title:"group",field:"group"},{title:"Eligible Party",field:"eligible_party"},{title:"invest funds",field:"investRange"},{title:"networth",field:"networthRange"},{title:"nationality",field:"citizenshipCountry"},{title:"Residence",field:"residenceCountry"},{title:"email",field:"email"},{title:"phone",field:"phone"},{title:"DOB",field:"dob"},{title:"Married",field:"Married"},{title:"Man Experience",field:"managerial_experience"},{title:"Qualifications",field:"qualifications"},{title:"Spouse",field:"spouse"},{title:"Created At",field:"createdAt"}]},Ye=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={_q:"",invest_funds:"",loading:!1,query:{},startDate:"",endDate:"",sortConfig:{field:null,asc:!0},isClients:0},e.enableKeyboard=function(){return document.onkeypress=function(){return!0}},e.disableKeyboard=function(){return document.onkeypress=function(){return!1}},e.sortData=function(t){var n=e.state.sortConfig,a=n.field,r=n.asc,s=t===a?!r:r;e.props.businessList.sort((function(e,n){var a=e[t],r=n[t];return"string"===typeof a?s?a.toLowerCase()<r.toLowerCase()?-1:a.toLowerCase()>r.toLowerCase()?1:0:-1:s?a-r:r-a})),e.setState({sortConfig:{field:t,asc:s}})},e.onChange=function(t){e.setState(Object(p.a)({query:Object(h.a)(Object(h.a)({},e.state.query),{},Object(p.a)({},t.target.name,t.target.value))},t.target.name,t.target.value)),e.onSearch()},e.onSearch=function(){return e.setState({loading:!0},(function(){return e.props.searchDb("businesses",Object(h.a)(Object(h.a)({},e.state.query),{},{client_status:e.state.isClients})).then((function(t){return e.setState({loading:!1})})).catch((function(t){return e.setState({loading:!1})}))}))},e.updateImmigrant=function(t){return e.setState({loading:!0},(function(){return e.props.updateImmigrant(t,{client_status:!0},"businesses").then((function(t){return e.setState({loading:!1},(function(){Object(m.b)("Selected lead is now a client")}))})).catch((function(t){return e.setState({loading:!1},(function(){Object(m.b)(t.response.message)}))}))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t,n,a=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,n="clients"===t?1:0,this.setState({loading:!0,isClients:n}),e.next=5,this.props.searchDb("businesses",{client_status:n}).then((function(e){return a.setState({loading:!1,data:e})})).catch((function(e){return a.setState({loading:!1})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.businessList,r=t.investRanges,s=t.title,c=this.state,i=c.loading,o=c.invest_funds,l=c.startDate,d=c.endDate,u=c.sortConfig,j=u.asc,b=u.field,m=c.isClients;return Object(a.jsxs)("div",{id:"requests",className:"px-0 w-100 mx-auto",children:[Object(a.jsx)(De,{show:i}),Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsxs)("h2",{children:[s," ",m?"Clients":"Leads"]})})}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(g.a,{sm:6,className:"pb-3",children:Object(a.jsx)(Ie,{onChange:function(t){return e.onChange(t)},name:"_q",value:this.state._q,placeholder:"Search...",subText:Object(a.jsxs)("i",{className:"text-gray",children:["searches ",Object(a.jsx)("span",{className:"text-info",children:"firstname"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"lastname"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"email"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"phone"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"eligible party"})," and"," ",Object(a.jsx)("span",{className:"text-info",children:"group"})]})})}),Object(a.jsx)(g.a,{sm:3,xs:6,className:"pr-1",children:Object(a.jsx)(Ge.CSVLink,{data:n.map((function(e){var t=e.first_name,n=e.last_name,a=e.email,r=e.group,s=e.dob,c=e.eligible_party,i=e.phone,o=e.spouse,l=e.createdAt,d=e.investRange,u=e.networthRange,j=e.managerial_experience,b=e.residenceCountry,m=e.citizenshipCountry,h=e.qualifications;return{first_name:t,last_name:n,email:a,group:r,dob:s,eligible_party:c,phone:i,married:null!==o,invest:"".concat(d.min,"-").concat(d.max),networth:"".concat(u.min,"-").concat(u.max),residenceCountry:b.name,citizenshipCountry:m.name,managerial_experience:j,qualifications:le(h),spouse:o?"".concat(se(o.dob)," years | ").concat(o.birthCountry.name," \n| ").concat(le(o.qualifications)):"NIL",createdAt:l}})),target:"_blank",className:"btn btn-primary btn-block",filename:"Business-Immigrants",children:"Exp All"})}),Object(a.jsx)(g.a,{sm:3,xs:6,className:"pl-1",children:Object(a.jsx)(Ge.CSVLink,{data:n.map((function(e){return{first_name:e.first_name,last_name:e.last_name,email:e.email,phone:e.phone}})),target:"_blank",className:"btn btn-info btn-block",filename:"Business-Immigrants(filtered)",children:"Exp Few"})})]}),Object(a.jsxs)(O.a,{className:"mt-3",children:[Object(a.jsx)(g.a,{sm:"12",children:Object(a.jsx)("h4",{children:"Filter By:"})}),Object(a.jsx)(g.a,{xs:"6",children:Object(a.jsx)(Ae,{id:"invest_funds",name:"invest_funds",value:o,options:[{name:"None",value:""}].concat(Object(He.a)(r)),placeholder:"Select...",onSelect:this.onChange,label:"Available to Invest",bsSize:"sm"})}),Object(a.jsx)(g.a,{xs:"3",className:"pr-1",children:Object(a.jsx)(Le,{inputProps:{style:{type:"date",border:"1px solid #cad1d7"},required:!0,placeholder:"from",class:"form-control-sm form-control filter-input"},label:"Created",onFocus:this.disableKeyboard,onBlur:this.enableKeyboard,value:l,autoComplete:"off",name:"startDate",id:"startDate",onChange:function(t){return e.onChange(Object(h.a)(Object(h.a)({},t),{},{target:Object(h.a)(Object(h.a)({},t.target),{},{name:"startDate"})}))}})}),Object(a.jsx)(g.a,{xs:"3",className:"pl-1",children:Object(a.jsx)(Le,{inputProps:{style:{type:"date",border:"1px solid #cad1d7"},required:!0,placeholder:"to",class:"form-control-sm form-control filter-input"},label:"-",onFocus:this.disableKeyboard,onBlur:this.enableKeyboard,value:d,autoComplete:"off",name:"endDate",id:"endDate",onChange:function(t){return e.onChange(Object(h.a)(Object(h.a)({},t),{},{target:Object(h.a)(Object(h.a)({},t.target),{},{name:"endDate"})}))}})})]}),Object(a.jsxs)(Re.a,{className:"p-0 resp mt-3",children:[Object(a.jsxs)(ze.a,{responsive:!0,striped:!0,bordered:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:Qe.titles.map((function(t,n){var r=t.title,s=t.field;return m&&"client_status"===s?"":Object(a.jsxs)("th",{className:"text-capitalize",children:[r," ",Object(a.jsxs)("button",{className:"d-inline btn btn-link px-0",onClick:function(){return e.sortData(s)},children:[Object(a.jsx)("i",{className:"fa fa-angle-down mr-0 ".concat(b===s&&j?"text-secondary":"")}),Object(a.jsx)("i",{className:"fa fa-angle-up mr-0 ".concat(b!==s||j?"":"text-secondary")})]})]},n)}))})}),Object(a.jsx)("tbody",{children:n.map((function(t,n){var r=t.first_name,s=t.last_name,c=t.email,i=t.group,o=t.dob,l=t.eligible_party,d=t.phone,u=t.qualifications,j=t.spouse,b=t.createdAt,h=t.investRange,p=t.networthRange,f=t.managerial_experience,O=t.residenceCountry,g=t.citizenshipCountry,x=t.id,y=t.client_status;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:n+1}),m?"":Object(a.jsx)("td",{children:Object(a.jsx)(v.a,{color:y?"secondary":"success",onClick:function(){return e.updateImmigrant(x)},size:"sm",disabled:y,children:y?"Converted":"Convert to Client"})}),Object(a.jsx)("td",{children:"".concat(r," ").concat(s)}),Object(a.jsxs)("td",{children:["Group ",i]}),Object(a.jsx)("td",{children:l}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:h.min,displayType:"text"})," - ",Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:h.max,displayType:"text"})]}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:p.min,displayType:"text"})," - ",Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:p.max,displayType:"text"})]}),Object(a.jsx)("td",{children:g.name}),Object(a.jsx)("td",{children:O.name}),Object(a.jsx)("td",{children:c}),Object(a.jsx)("td",{children:d}),Object(a.jsx)("td",{children:se(o)}),Object(a.jsx)("td",{children:null!==j?"true":"false"}),Object(a.jsx)("td",{children:f?"true":"false"}),Object(a.jsx)("td",{children:le(u)}),Object(a.jsx)("td",{children:j?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("strong",{children:"Age:"})," ","".concat(se(j.dob)," years"),Object(a.jsx)("br",{}),Object(a.jsx)("strong",{children:"Quals:"})," ",le(j.qualifications),Object(a.jsx)("br",{})]}):"NIL"}),Object(a.jsx)("td",{children:X()(b).format("L | HH:mm")})]},n)}))})]}),!n.length&&Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("strong",{children:"No result found"})})]})]})}}]),n}(r.Component),Je=Object(j.b)((function(e){var t=e.businessList;return Object(h.a)({},t)}),{getBusinessImmigrants:function(){return function(){var e=Object(N.a)(C.a.mark((function e(t,n){var a,r,s,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:G}),a=n(),r=a.auth.token,s={headers:{Authorization:"Bearer ".concat(r)}},e.next=6,S.a.get("".concat(w,"/immigrants/businesses"),s);case 6:return c=e.sent,t({type:P,payload:c.data}),e.abrupt("return",c.data);case 11:e.prev=11,e.t0=e.catch(0),t({type:z,payload:te(e.t0)}),Object(m.b)(te(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},searchDb:me,updateImmigrant:be})(Object(Te.g)(Ye)),We={titles:[{title:"",field:"id"},{title:"Convert To Client",field:"client_status"},{title:"Name",field:"name"},{title:"group",field:"group"},{title:"Eligible Party",field:"eligible_party"},{title:"nationality",field:"citizenshipCountry"},{title:"Residence",field:"residenceCountry"},{title:"email",field:"email"},{title:"phone",field:"phone"},{title:"DOB",field:"dob"},{title:"Married",field:"Married"},{title:"Qualifications",field:"qualifications"},{title:"Experience",field:"work_histories"},{title:"Language Prof",field:"language_proficiencies"},{title:"Spouse",field:"spouse"},{title:"Children",field:"children"},{title:"Criminal Rec?",field:"criminal_record"},{title:"Famili in CA?",field:"family_in_canada"},{title:"Job Offer?",field:"job_offer"},{title:"Medical Condition?",field:"medical_condition"},{title:"Comment",field:"comment"},{title:"Created At",field:"createdAt"}]},Xe=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={_q:"",loading:!1,query:{},startDate:"",endDate:"",sortConfig:{field:null,asc:!0},isClients:0},e.enableKeyboard=function(){return document.onkeypress=function(){return!0}},e.disableKeyboard=function(){return document.onkeypress=function(){return!1}},e.sortData=function(t){var n=e.state.sortConfig,a=n.field,r=n.asc,s=t===a?!r:r;e.props.generalList.sort((function(e,n){var a=e[t],r=n[t];return"string"===typeof a?s?a.toLowerCase()<r.toLowerCase()?-1:a.toLowerCase()>r.toLowerCase()?1:0:-1:s?a-r:r-a})),e.setState({sortConfig:{field:t,asc:s}})},e.onChange=function(t){e.setState(Object(p.a)({query:Object(h.a)(Object(h.a)({},e.state.query),{},Object(p.a)({},t.target.name,t.target.value))},t.target.name,t.target.value)),e.onSearch()},e.onSearch=function(){return e.setState({loading:!0},(function(){return e.props.searchDb("generals",Object(h.a)(Object(h.a)({},e.state.query),{},{client_status:e.state.isClients})).then((function(t){return e.setState({loading:!1})})).catch((function(t){return e.setState({loading:!1})}))}))},e.updateImmigrant=function(t){return e.setState({loading:!0},(function(){return e.props.updateImmigrant(t,{client_status:!0},"generals").then((function(t){return e.setState({loading:!1},(function(){Object(m.b)("Selected lead is now a client")}))})).catch((function(t){return e.setState({loading:!1},(function(){Object(m.b)(t.response.message)}))}))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t,n,a=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,n="clients"===t?1:0,this.setState({loading:!0,isClients:n}),e.next=5,this.props.searchDb("generals",{client_status:n}).then((function(e){return a.setState({loading:!1,data:e})})).catch((function(e){return a.setState({loading:!1})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.generalList,r=t.title,s=this.state,c=s.loading,i=s.startDate,o=s.endDate,l=s.sortConfig,d=l.asc,u=l.field,j=s.isClients;return Object(a.jsxs)("div",{id:"requests",className:"px-0 w-100 mx-auto",children:[Object(a.jsx)(De,{show:c}),Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsxs)("h2",{children:[r," ",j?"Clients":"Leads"]})})}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(g.a,{sm:6,className:"pb-3",children:Object(a.jsx)(Ie,{onChange:function(t){return e.onChange(t)},name:"_q",value:this.state._q,placeholder:"Search...",subText:Object(a.jsxs)("i",{className:"text-gray",children:["searches ",Object(a.jsx)("span",{className:"text-info",children:"firstname"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"lastname"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"email"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"phone"}),","," ",Object(a.jsx)("span",{className:"text-info",children:"eligible party"})," and"," ",Object(a.jsx)("span",{className:"text-info",children:"group"})]})})}),Object(a.jsx)(g.a,{sm:3,xs:6,className:"pr-1",children:Object(a.jsx)(Ge.CSVLink,{data:n.map((function(e){var t=e.first_name,n=e.last_name,a=e.group,r=e.eligible_party,s=e.citizenshipCountry,c=e.residenceCountry,i=e.email,o=e.phone,l=e.dob,d=e.qualifications,u=e.work_histories,j=e.language_proficiencies,b=e.spouse,m=e.children,h=e.criminal_record,p=e.family_in_canada,f=e.job_offer,O=e.medical_condition,g=e.comment,x=e.createdAt;return{first_name:t,last_name:n,group:a,eligible_party:r,citizenshipCountry:s.name,residenceCountry:c.name,email:i,phone:o,dob:l,married:null!==b,qualifications:le(d),work_histories:de(u),language_proficiencies:ue(j),spouse:b?"".concat(se(b.dob)," years \n| ").concat(le(b.qualifications)," \n| ").concat(de(b.work_histories)," \n| ").concat(ue(b.language_proficiencies),"  "):"NIL",children:m,criminal_record:h?"Yes":"No",family_in_canada:p?"Yes":"No",job_offer:f?"Yes":"No",medical_condition:O?"Yes":"No",comment:g,createdAt:x}})),target:"_blank",className:"btn btn-primary btn-block",filename:"General-Immigrants",children:"Exp All"})}),Object(a.jsx)(g.a,{sm:3,xs:6,className:"pl-1",children:Object(a.jsx)(Ge.CSVLink,{data:n.map((function(e){return{first_name:e.first_name,last_name:e.last_name,email:e.email,phone:e.phone}})),target:"_blank",className:"btn btn-info btn-block",filename:"General-Immigrants(filtered)",children:"Exp Few"})})]}),Object(a.jsxs)(O.a,{className:"mt-3",children:[Object(a.jsx)(g.a,{sm:"12",children:Object(a.jsx)("h4",{children:"Filter By:"})}),Object(a.jsx)(g.a,{xs:"3",className:"pr-1",children:Object(a.jsx)(Le,{inputProps:{style:{type:"date",border:"1px solid #cad1d7"},required:!0,placeholder:"from",class:"form-control-sm form-control filter-input"},label:"Created",onFocus:this.disableKeyboard,onBlur:this.enableKeyboard,value:i,autoComplete:"off",name:"startDate",id:"startDate",onChange:function(t){return e.onChange(Object(h.a)(Object(h.a)({},t),{},{target:Object(h.a)(Object(h.a)({},t.target),{},{name:"startDate"})}))}})}),Object(a.jsx)(g.a,{xs:"3",className:"pl-1",children:Object(a.jsx)(Le,{inputProps:{style:{type:"date",border:"1px solid #cad1d7"},required:!0,placeholder:"to",class:"form-control-sm form-control filter-input"},label:"-",onFocus:this.disableKeyboard,onBlur:this.enableKeyboard,value:o,autoComplete:"off",name:"endDate",id:"endDate",onChange:function(t){return e.onChange(Object(h.a)(Object(h.a)({},t),{},{target:Object(h.a)(Object(h.a)({},t.target),{},{name:"endDate"})}))}})})]}),Object(a.jsxs)(Re.a,{className:"p-0 resp mt-3",children:[Object(a.jsxs)(ze.a,{responsive:!0,striped:!0,bordered:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:We.titles.map((function(t,n){var r=t.title,s=t.field;return j&&"client_status"===s?"":Object(a.jsxs)("th",{className:"text-capitalize",children:[r," ",Object(a.jsxs)("button",{className:"d-inline btn btn-link px-0",onClick:function(){return e.sortData(s)},children:[Object(a.jsx)("i",{className:"fa fa-angle-down mr-0 ".concat(u===s&&d?"text-secondary":"")}),Object(a.jsx)("i",{className:"fa fa-angle-up mr-0 ".concat(u!==s||d?"":"text-secondary")})]})]},n)}))})}),Object(a.jsx)("tbody",{children:n.map((function(t,n){var r=t.first_name,s=t.last_name,c=t.email,i=t.group,o=t.dob,l=t.eligible_party,d=t.phone,u=t.spouse,b=t.createdAt,m=t.residenceCountry,h=t.citizenshipCountry,p=t.qualifications,f=t.work_histories,O=t.language_proficiencies,g=t.client_status,x=t.children,y=t.criminal_record,C=t.family_in_canada,N=t.job_offer,_=t.medical_condition,S=t.comment,w=t.id;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:n+1}),j?"":Object(a.jsx)("td",{children:Object(a.jsx)(v.a,{color:g?"secondary":"success",onClick:function(){return e.updateImmigrant(w)},size:"sm",disabled:g,children:g?"Converted":"Convert to Client"})}),Object(a.jsx)("td",{children:"".concat(r," ").concat(s)}),Object(a.jsxs)("td",{children:["Group ",i]}),Object(a.jsx)("td",{children:l}),Object(a.jsx)("td",{children:h.name}),Object(a.jsx)("td",{children:m.name}),Object(a.jsx)("td",{children:c}),Object(a.jsx)("td",{children:d}),Object(a.jsx)("td",{children:se(o)}),Object(a.jsx)("td",{children:null!==u?"true":"false"}),Object(a.jsx)("td",{children:le(p)}),Object(a.jsx)("td",{children:de(f)}),Object(a.jsx)("td",{children:ue(O)}),Object(a.jsx)("td",{children:u?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("strong",{children:"Age:"})," ","".concat(se(u.dob)," years"),Object(a.jsx)("br",{}),Object(a.jsx)("strong",{children:"Quals:"})," ",le(u.qualifications),Object(a.jsx)("br",{}),Object(a.jsx)("strong",{children:"Exp's:"})," ",de(u.work_histories),Object(a.jsx)("br",{}),Object(a.jsx)("strong",{children:"Lang's:"})," ",ue(u.language_proficiencies)]}):"NIL"}),Object(a.jsx)("td",{children:x}),Object(a.jsx)("td",{children:y?"Yes":"No"}),Object(a.jsx)("td",{children:C?"Yes":"No"}),Object(a.jsx)("td",{children:N?"Yes":"No"}),Object(a.jsx)("td",{children:_?"Yes":"No"}),Object(a.jsx)("td",{children:S}),Object(a.jsx)("td",{children:X()(b).format("L | HH:mm")})]},n)}))})]}),!n.length&&Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("strong",{children:"No result found"})})]})]})}}]),n}(r.Component),Ze=Object(j.b)((function(e){var t=e.generalList;return Object(h.a)({},t)}),{getGeneralImmigrants:function(){return function(){var e=Object(N.a)(C.a.mark((function e(t,n){var a,r,s,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:V}),a=n(),r=a.auth.token,s={headers:{Authorization:"Bearer ".concat(r)}},e.next=6,S.a.get("".concat(w,"/immigrants/generals"),s);case 6:return c=e.sent,t({type:K,payload:c.data}),e.abrupt("return",c.data);case 11:e.prev=11,e.t0=e.catch(0),t({type:$,payload:te(e.t0)}),Object(m.b)(te(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},searchDb:me,updateImmigrant:be})(Object(Te.g)(Xe)),et={titles:["","Name","email","phone","married","invest funds","networth","residence","nationality","rejected","deported","O dep","Y dep","T dep","A dep","contact med","ref","time"]},tt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={search:"",loading:!1},e.onChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value)),e.onSearch(t.target.value)},e.onSearch=function(t){return e.setState({loading:!0},(function(){return e.props.searchDb("stkitts",t).then((function(t){return e.setState({loading:!1})})).catch((function(t){return e.setState({loading:!1})}))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getImmigrants("stkitts").then((function(e){return t.setState({loading:!1})})).catch((function(e){return t.setState({loading:!1})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.immigrantList;return Object(a.jsxs)("div",{id:"requests",className:"px-0 w-100 mx-auto",children:[Object(a.jsx)(De,{show:this.state.loading}),Object(a.jsx)(O.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)("h2",{children:"St. Kitts"})})}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(g.a,{sm:8,children:Object(a.jsx)(Ie,{onChange:function(t){return e.onChange(t)},name:"search",value:this.state.search,placeholder:"Search..."})}),Object(a.jsx)(g.a,{sm:4,children:Object(a.jsx)(Ge.CSVLink,{data:t.map((function(e){var t=e.first_name,n=e.last_name,r=e.email,s=e.phone,c=e.married,i=e.old_dependents,o=e.young_dependents,l=e.teen_dependents,d=e.average_dependents,u=e.rejected,j=e.deported,b=e.contact_medium,m=e.referee,h=e.createdAt,p=e.investRange,f=e.networthRange,O=e.residenceCountry,g=e.nationalityCountry,x=e.RejectedCountries,v=e.DeportedCountries;return{first_name:t,last_name:n,email:r,phone:s,married:c,old_dependents:i,young_dependents:o,teen_dependents:l,average_dependents:d,contact_medium:b,referee:m,createdAt:h,invest:"".concat(p.min,"-").concat(p.max),networth:"".concat(f.min,"-").concat(f.max),residenceCountry:O.name,nationalityCountry:g.name,RejectedCountries:x,DeportedCountries:v,rejected:u?x.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No",deported:j?v.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}})),target:"_blank",className:"btn btn-primary btn-block",filename:"Stkitts-Immigrants",children:"Export to CSV"})})]}),Object(a.jsxs)(Re.a,{className:"p-0 resp",children:[Object(a.jsxs)(ze.a,{responsive:!0,striped:!0,bordered:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:et.titles.map((function(e,t){return Object(a.jsx)("th",{className:"text-capitalize",children:e},t)}))})}),Object(a.jsx)("tbody",{children:t.map((function(e,t){var n=e.first_name,r=e.last_name,s=e.email,c=e.phone,i=e.married,o=e.old_dependents,l=e.young_dependents,d=e.teen_dependents,u=e.average_dependents,j=e.rejected,b=e.deported,m=e.contact_medium,h=e.referee,p=e.createdAt,f=e.investRange,O=e.networthRange,g=e.residenceCountry,x=e.nationalityCountry,v=e.RejectedCountries,y=e.DeportedCountries;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:t+1}),Object(a.jsx)("td",{children:"".concat(n," ").concat(r)}),Object(a.jsx)("td",{children:s}),Object(a.jsx)("td",{children:c}),Object(a.jsx)("td",{children:i}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:f.min,displayType:"text"})," - ",Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:f.max,displayType:"text"})]}),Object(a.jsxs)("td",{children:[Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:O.min,displayType:"text"})," - ",Object(a.jsx)(Pe.a,{thousandSeparator:!0,prefix:"$",value:O.max,displayType:"text"})]}),Object(a.jsx)("td",{children:g.name}),Object(a.jsx)("td",{children:x.name}),Object(a.jsx)("td",{children:j?v.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}),Object(a.jsx)("td",{children:b?y.map((function(e){return Object(a.jsxs)("span",{className:"",children:[e.name,","," "]},e.id)})):"No"}),Object(a.jsx)("td",{children:o}),Object(a.jsx)("td",{children:l}),Object(a.jsx)("td",{children:d}),Object(a.jsx)("td",{children:u}),Object(a.jsx)("td",{children:m}),Object(a.jsx)("td",{children:h}),Object(a.jsx)("td",{children:X()(p).format("L | HH:mm")})]},t)}))})]}),!t.length&&Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("strong",{children:"No result found"})})]})]})}}]),n}(r.Component),nt=Object(j.b)((function(e){var t=e.immigrantList;return Object(h.a)({},t)}),{getImmigrants:je,searchDb:me})(tt),at=[{path:"".concat("/manager","/antigua"),name:"All Antigua",component:$e},{path:"".concat("/manager","/stkitts"),name:"All St. Kitts",component:nt},{path:"".concat("/manager","/businesses"),name:"All Business Immigrants",component:Je},{path:"".concat("/manager","/business/:id"),name:"All Business",component:Je},{path:"".concat("/manager","/generals"),name:"All General Immigrants",component:Ze},{path:"".concat("/manager","/general/:id"),name:"All General",component:Ze},{path:"".concat("/manager","/"),name:"All Business Leads",component:Je}],rt=function(){var e=Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(w,"/utilities/countries"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(w,"/utilities/funds/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={showMenu:!1,loading:!1,countries:[],investRanges:[],isOpen:""},e.initFunc=Object(N.a)(C.a.mark((function t(){var n,a,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,rt();case 4:return n=t.sent,t.next=7,st("invest");case 7:a=t.sent,e.setState({loading:!1,countries:n.data,investRanges:a.data}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),e.setState({loading:!1}),A(null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.data,m.b);case 15:case"end":return t.stop()}}),t,null,[[1,11]])}))),e.toggleMenu=function(){return e.setState({showMenu:!e.state.showMenu})},e.toggleMenuChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.setState({isOpen:t})},e.getRoutes=function(t){var n=e.state,r=n.investRanges,s=n.countries;return t.map((function(e,t){return Object(a.jsx)(Te.b,{path:e.path,component:function(){return Object(a.jsx)(e.component,{countries:s.map((function(e){return{name:e.name,value:e.id}})),investRanges:ie(r),title:e.name})}},t)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.initFunc()}},{key:"render",value:function(){var e=this,t=this.props.user,n=this.state,r=n.showMenu,s=n.isOpen;return t?Object(a.jsx)(Ue,{bgImage:!0,bgImageSrc:qe,id:"showcase",className:"default-padding",children:Object(a.jsxs)("div",{className:"container",id:"Dashboard",children:[Object(a.jsx)("div",{children:Object(a.jsxs)(Re.a,{className:"p-3 bg-faded flex-md-row justify-content-between",children:[Object(a.jsxs)("h2",{className:"text-center",children:[Object(a.jsx)("i",{className:"fa fa-bars d-md-none float-left",onClick:function(){return e.toggleMenu()}}),Object(a.jsx)("span",{className:" float-md-none float-right",children:"Dashboard"})]}),Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)(b.b,{to:"".concat("/manager"),children:Object(a.jsx)("img",{src:"".concat(Be),alt:"Loft",height:60})})})]})}),Object(a.jsxs)(O.a,{className:"row-eq-height",children:[Object(a.jsx)(g.a,{className:"mt-md-3 pr-0 menu ".concat(r?" show ":"","d-md-block"),sm:"12",md:"3",onClick:function(t){t.target.classList.contains("menu")&&e.toggleMenu()},children:Object(a.jsxs)(Re.a,{className:"bg-faded p-4 h-100",children:[Object(a.jsx)("h2",{className:"text-right",children:Object(a.jsx)("i",{onClick:function(){return e.setState({showMenu:!1})},className:"d-md-none fa fa-times"})}),Object(a.jsxs)("div",{className:"text-center mt-4",children:[Object(a.jsx)("img",{alt:"...",className:"rounded-circle w-50",src:"".concat(Fe)}),Object(a.jsx)("br",{}),Object(a.jsx)("strong",{children:"".concat(t.email)}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"h5 font-weight-300",children:t.email})]}),Object(a.jsxs)("div",{id:"menu",className:"mt-4",children:[Object(a.jsxs)("p",{className:"mb-1",children:[Object(a.jsxs)(b.b,{onClick:function(){return e.toggleMenuChildren("business")},to:"".concat("/manager","/business/leads"),children:[Object(a.jsx)("i",{className:"fa fa-angle-".concat("business"===s?"down":"right")})," ","Business Immigrants"]}),Object(a.jsxs)(Me.a,{isOpen:"business"===s,className:"pl-4",children:[Object(a.jsx)("p",{className:"mb-1",children:Object(a.jsx)(b.c,{activeClassName:"active",onClick:this.toggleMenu,to:"".concat("/manager","/business/leads"),children:"Business Leads"})}),Object(a.jsx)("p",{className:"mb-1",children:Object(a.jsx)(b.c,{activeClassName:"active",onClick:this.toggleMenu,to:"".concat("/manager","/business/clients"),children:"Business Clients"})})]})]}),Object(a.jsx)("hr",{className:"mt-0 mb-3"}),Object(a.jsxs)("p",{className:"mb-1",children:[Object(a.jsxs)(b.b,{onClick:function(){return e.toggleMenuChildren("general")},to:"".concat("/manager","/general/leads"),children:[Object(a.jsx)("i",{className:"fa fa-angle-".concat("general"===s?"down":"right")})," ","General Immigrants"]}),Object(a.jsxs)(Me.a,{isOpen:"general"===s,className:"pl-4",children:[Object(a.jsx)("p",{className:"mb-1",children:Object(a.jsx)(b.c,{activeClassName:"active",onClick:this.toggleMenu,to:"".concat("/manager","/general/leads"),children:"General Leads"})}),Object(a.jsx)("p",{className:"mb-1",children:Object(a.jsx)(b.c,{activeClassName:"active",onClick:this.toggleMenu,to:"".concat("/manager","/general/clients"),children:"General Clients"})})]})]}),Object(a.jsx)("hr",{className:"mt-0 mb-3"}),Object(a.jsx)("p",{className:"mb-1",children:Object(a.jsx)(b.c,{activeClassName:"active",onClick:this.toggleMenu,to:"".concat("/manager","/antigua"),children:"Antigua Immigrants"})}),Object(a.jsx)("hr",{className:"mt-0 mb-3"}),Object(a.jsx)("p",{className:"mb-1",children:Object(a.jsx)(b.c,{activeClassName:"active",onClick:this.toggleMenu,to:"".concat("/manager","/stkitts"),children:"St. Kitts Immigrants"})}),Object(a.jsx)("hr",{className:"mt-0 mb-3"}),Object(a.jsx)(v.a,{block:!0,onClick:this.props.logOut,color:"danger",children:"Logout"})]})]})}),Object(a.jsx)(g.a,{className:"mt-3",md:"9",children:Object(a.jsxs)(Re.a,{className:"bg-faded p-sm-4 p-2 h-100",children:[Object(a.jsx)(De,{show:this.state.loading}),Object(a.jsx)(Te.d,{children:this.getRoutes(at)})]})})]})]})}):Object(a.jsx)(Te.a,{to:"".concat("/manager","/auth/login")})}}]),n}(r.Component),it=Object(j.b)((function(e){var t=e.auth;return Object(h.a)({},t)}),{logOut:function(){return function(e){localStorage.removeItem("user"),localStorage.removeItem("token"),k.headers.Authorization="",Object(m.b)("Successfully logged out"),e({type:L})}}})(ct),ot={email:"",password:"",prevPath:"/",loading:!1},lt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state=ot,e.onChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.loginUser=function(t){t.preventDefault(),e.setState({loading:!0}),e.props.authenticateUser(e.state,(function(t,n){return t?e.setState(ot):e.setState(n)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return this.props.isAuthenticated?Object(a.jsx)(it,{}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(f.a,{id:"Quote",className:"mt-5 pt-5",children:[Object(a.jsx)(O.a,{className:"mb-4",children:Object(a.jsx)(g.a,{className:"text-center",children:Object(a.jsx)("img",{src:Be,style:{maxHeight:"5rem"},alt:"Logo"})})}),Object(a.jsx)(x.a,{onSubmit:this.loginUser.bind(this),children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(De,{show:this.state.loading}),Object(a.jsxs)(g.a,{sm:"6",lg:4,className:"offset-sm-3 offset-lg-4 py-2",children:[Object(a.jsx)(Ie,{onChange:function(t){return e.onChange(t)},name:"email",value:this.state.email,isRequired:!0,placeholder:"Username",iconClass:"ni ni-email-83",autoFocus:!0,className:"mb-1"}),Object(a.jsx)(Ie,{onChange:function(t){return e.onChange(t)},name:"password",type:"password",value:this.state.password,isRequired:!0,isPassword:!0,placeholder:"Password",iconClass:"ni ni-lock-circle-open"}),Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)(v.a,{block:!0,className:"mt-4 mb-2",color:"primary",type:"submit",children:"Login"})})]})]})})]})})}}]),n}(r.Component),dt=Object(j.b)((function(e){var t=e.auth;return Object(h.a)({},t)}),{authenticateUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(){var n=Object(N.a)(C.a.mark((function n(a){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.a.post("".concat(w,"/users/login"),e,k).then(function(){var e=Object(N.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,!1),e.next=3,E(n.data)(a);case 3:Object(m.b)("Login Successful");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t(!1,{loading:!1}),A("Invalid Credentials",m.b)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(lt),ut=n(44),jt=n(105),bt=n(106),mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:var n=t.payload.token;return delete t.payload.token,ae("token",n),ae("user",t.payload),Object(h.a)(Object(h.a)({},e),{},{authLoaded:!0,token:n,user:t.payload,isAuthenticated:!0,goBack:!0});case L:return Object(h.a)(Object(h.a)({},e),{},{authLoaded:!0,isAuthenticated:!1,user:null,token:""});default:return e}},ht=Object(ut.combineReducers)({auth:mt,immigrantDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=void 0===a?null:a;switch(n){case q:return{loading:!0};case B:return{loading:!1,success:!0};case F:return{loading:!0,error:r};default:return e}},immigrantList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{immigrantList:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=void 0===a?null:a;switch(n){case T:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case R:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,immigrantList:r});case M:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:r});case U:return{immigrantList:[]};case H:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case J:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:r});default:return e}},businessList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{businessList:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=void 0===a?null:a;switch(n){case G:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case P:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,businessList:r});case z:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:r});case Y:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,businessList:e.businessList.filter((function(e){return e.id!==r.id}))});default:return e}},generalList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{generalList:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=void 0===a?null:a;switch(n){case V:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case K:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,generalList:r});case $:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:r});case Q:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,generalList:e.generalList.filter((function(e){return e.id!==r.id}))});default:return e}}}),pt={auth:{isAuthenticated:ne("token",!1),user:ne("user"),token:ne("token",!1)}},ft=[bt.a],Ot=Object(ut.createStore)(ht,pt,Object(jt.composeWithDevTools)(ut.applyMiddleware.apply(void 0,ft))),gt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(j.a,{store:Ot,children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(m.a,{autoClose:8e3,draggable:!0,enableMultiContainer:!0,containerId:"A",position:"top-right"}),Object(a.jsx)(m.a,{autoClose:8e3,draggable:!0,enableMultiContainer:!0,containerId:"B",position:"bottom-left"}),Object(a.jsx)(m.a,{autoClose:8e3,draggable:!0}),Object(a.jsx)(dt,{})]})})}}]),n}(r.Component);n(275),n(276),n(277),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(gt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[278,1,2]]]);
//# sourceMappingURL=main.dc17d69e.chunk.js.map